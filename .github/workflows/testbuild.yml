name: Test-Build
on: [push]
jobs:
  apt-distros:
    strategy:
      matrix:
        container:
        - 'ubuntu:18.04'
        - 'ubuntu:20.04'
        - 'ubuntu:devel'
        - 'debian:11'
        - 'debian:testing'
    runs-on: ubuntu-latest
    container: ${{ matrix.container }}
    steps:
      - run: echo "event ${{ github.event_name }} os ${{ runner.os }} ${{ matrix.os }}"
      - run: echo "branch ${{ github.ref }} repo ${{ github.repository }}."
      - name: checkout
        uses: actions/checkout@v3
      - run: echo "The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "The workflow is now ready to test your code on the runner."
      - name: test
        run: |
          apt-get install --force-yes -y gcc make ctags zip ncurses-dev groff && cd ${{ github.workspace }} && make travis
      - run: echo "status ${{ job.status }}."
